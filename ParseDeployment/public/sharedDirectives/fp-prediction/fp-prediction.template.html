<article class=prediction ng-class="{'prediction--expanded': predictionCtrl.prediction.isExpanded}"><div class=prediction__container><div ng-if=!predictionCtrl.isEditingTopics><input type=button class=prediction__toggle-edit-topics ng-hide=predictionCtrl.isEditingTopics value=edit ng-click=predictionCtrl.toggleEditing()><div class=prediction__header><span class=prediction__topics><span class=prediction__topic ng-if="topic.title != predictionCtrl.topicToHide" ng-click=predictionCtrl.navigateToTopic(topic.title) ng-repeat="topic in predictionCtrl.prediction.topics">{{topic.title}}</span></span><span class=prediction__created-at ng-if=predictionCtrl.showDateAdded>{{predictionCtrl.prediction.createdAt}}</span> <a ui-sref=app.prediction({predictionId:predictionCtrl.prediction.id}) class=prediction__title>{{::predictionCtrl.prediction.title}}</a></div><div class=prediction__reasons ng-if=predictionCtrl.prediction.isExpanded><div class=likelihood__community-estimate__count>{{predictionCtrl.prediction.communityEstimatesCount}} votes, 13 reasons for and against</div><div><div style=position:relative><div style="margin:10px 0 5px;" ng-if=!predictionCtrl.reason><label style=font-size:1.1rem;color:#333;><b>{{predictionCtrl.prediction.userEstimate.likelihoodEstimatePercent}}% likely because?</b></label><input type=text id=prediction-{{predictionCtrl.prediction.id}}__add-reason-text-input ng-model=predictionCtrl.reasonInputText ng-keyup="$event.keyCode === 13 && predictionCtrl.addReason()"></div><div style="font-size:1.15rem;margin:10px 0;color:rgb(50,150,100);" ng-if=predictionCtrl.reason>{{predictionCtrl.reason}}</div></div></div></div><div class=likelihood><div class=likelihood__community-estimate><div ng-if=predictionCtrl.prediction.isExpanded><div class=likelihood__community-estimate__graph><div class=likelihood__community-estimate__graph-bar ng-repeat="estimate in predictionCtrl.prediction.communityEstimates"><div ng-style=estimate.graphBarHeight></div></div></div></div></div><div class=likelihood__user-estimate><div class=likelihood__user-estimate-option ng-click=predictionCtrl.toggleLikelihoodEstimate(estimate.percent) ng-repeat="estimate in predictionCtrl.prediction.communityEstimates track by $index" ng-class="{'likelihood__user-estimate-option--active': estimate.percent == predictionCtrl.prediction.userEstimate.likelihoodEstimatePercent}"><span class=test><span class=percent>{{::estimate.percent}}</span><span class=show-on-active>%<br>likely</span></span></div></div></div></div><div class=edit-prediction ng-if=predictionCtrl.isEditingTopics><form class=edit-prediction__add-topics-form ng-if="predictionCtrl.prediction.topics.length < predictionCtrl.maxTopicsPerPrediction"><div class=edit-prediction__prediction-title>{{::predictionCtrl.prediction.title}}</div><div class=edit-prediction__topics><span class=edit-prediction__topic ng-repeat="topic in predictionCtrl.prediction.topics">{{topic.title}} <span class=edit-prediction__delete-topic ng-click=predictionCtrl.removeTopicFromPrediction(topic.id)>Ã—</span></span> <span class=prediction__topic__preview-while-saving ng-if=predictionCtrl.topicIsSavingMessage><b>Adding</b> {{predictionCtrl.topicIsSavingMessage}}</span></div><span class=prediction__topics-not-set-notice ng-hide=predictionCtrl.prediction.topics.length>This prediction appears in <b>0 topics</b>. Add some relevant topics</span><label class=edit-prediction__add-topics-label>Add Topic<input type=text id=edit-prediction__topic-title-input ng-model=predictionCtrl.newTopicTitle></label><button class=edit-prediction__add-topic-button ng-show="predictionCtrl.newTopicTitle.length >= 2" ng-click=predictionCtrl.addTopicFromInputToPrediction()>Add topic</button><div class=edit-prediction__suggested-topics ng-if="predictionCtrl.prediction.topics.length === 0"><span class=edit-prediction__suggested-topics-title>Suggestions:</span><ul class=edit-prediction__suggested-topics-list><li class=edit-prediction__suggested-topics-topic ng-repeat="suggestedTopicTitle in predictionCtrl.suggestedTopicTitles" ng-click=predictionCtrl.addTopicFromSuggestedTopics($index)>{{suggestedTopicTitle}}</li></ul></div></form><div class=edit-prediction__next-step-container><input type=button class=edit-prediction__next-step-container__next-button value=Done ng-show="!predictionCtrl.showDeletionConfirmation && predictionCtrl.prediction.topics.length" ng-click=predictionCtrl.toggleEditing()><button class=edit-prediction__report-prediction-button ng-show={{!predictionCtrl.currentUserIsAuthor}}>Report</button><button class=edit-prediction__delete-prediction-button ng-show="predictionCtrl.currentUserIsAuthor && ! predictionCtrl.showDeletionConfirmation" ng-click=predictionCtrl.toggleShowDeletionConfirmation()>Delete prediction</button><div class=edit-prediction_delete-prediction-confirmation ng-show=predictionCtrl.showDeletionConfirmation>Are you sure you want to delete this prediction?<button ng-click=predictionCtrl.toggleShowDeletionConfirmation()>Cancel</button><button ng-click=predictionCtrl.deletePrediction()>Delete</button></div></div></div></div></article>