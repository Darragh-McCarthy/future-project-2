<form class="fp-add-new-prediction"
    ng-submit="ctrl.saveNewPrediction()">

    <label>
        <div ng-if="!ctrl.isLabelHidden"
            class="fp-add-new-prediction__prediction-title-label">

            <div ng-hide="ctrl.topicTitle">
                <span ng-hide="ctrl.newPredictionsCount">What's your prediction?</span>
                <span ng-show="ctrl.newPredictionsCount">Add another prediction</span>
            </div>
            <div ng-show="ctrl.topicTitle">
                <span ng-hide="ctrl.newPredictionsCount">What's your</span>
                <span ng-show="ctrl.newPredictionsCount">Add another</span>
                <span class="fp-add-new-prediction__topic">
                    <a class="fp-add-new-prediction__topic-link"
                          ui-sref="app.topic({topic:ctrl.topicTitle})" 
                          ui-sref-active="active">
                          {{ctrl.topicTitle}}
                    </a>
                    <span class="fp-add-new-prediction__delete-topic" 
                        ng-click="ctrl.removeDefaultTopic()">
                        Ã—
                    </span>
                </span>
                <span>prediction</span>
            </div>
        </div>

        <input type="text"
            class="fp-add-new-prediction__prediction-title-input"
            id="{{ctrl.predictionTextInputElementId}}" 
            ng-model="ctrl.newPredictionTitle"
            ng-keyup="ctrl.validateNewPrediction($event)"
            autocomplete="off"
            placeholder="{{ctrl.placeholderText}}"
        />
    </label>

    <ul ng-if="ctrl.displayedValidationErrors.length" 
        class="fp-add-new-prediction__errors">
        <li class="fp-add-new-prediction__error" 
            ng-repeat="errorMsg in ctrl.displayedValidationErrors">
            {{errorMsg}}
        </li>
    </ul>

    <button class="text-input-popup-button" 
        ng-show="ctrl.isValidPrediction">
        {{ctrl.addPredictionButtonText}}
    </button>

</form>
