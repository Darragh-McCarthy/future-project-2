

<!-- update class names -->

<div class="fp-prediction-list">

    <h1 class="fp-prediction-list__title" ng-if="list.currentTopic">{{list.currentTopic}}</h1>

    <fp-add-new-prediction
        ng-if="list.showAddPredictionForm"
        autofocus="true" 
        topic="list.currentTopic"
        on-add-new-prediction-success="list.onAddNewPredictionSuccess(newPrediction)"
        on-saving-new-prediction="list.onSavingNewPrediction()">
    </fp-add-new-prediction>

    <div>
        <div class="fp-prediction-list__isloading-notice" 
            ng-hide="list.paginationObject.predictions.length">
            Loading predictions...
        </div>

        <div class="fp-prediction-list__loaded" ng-show="list.paginationObject.predictions.length">

            <div class="fp-prediction-list__newly-added-predictions">
                <div class="fp-prediction-list__newly-added-prediction-is-saving" ng-show="list.isSavingNewPrediction">Saving prediction...</div>
                <div class="fp-prediction-list__newly-added-prediction" ng-repeat="prediction in list.newlyAddedPredictions">
                    <span>
                        Added 
                        <span ng-if="list.currentTopic">
                            to {{list.currentTopic}}
                        </span>
                        on {{prediction.createdAt}}
                    </span>
                    <fp-prediction
                    prediction="prediction"
                    show-topic-editing-by-default="true"
                    topic-to-hide="list.currentTopic" 
                    onexpand="list.expandPrediction(prediction)"
                    on-delete-prediction-success="list.removePredictionFromList(predictionId)">
                    </fp-prediction>
                </div>
            </div>

            <fp-prediction 
                ng-repeat="prediction in list.paginationObject.predictions track by prediction.id"
                prediction="prediction"
                topic-to-hide="list.currentTopic" 
                onexpand="list.expandPrediction(prediction)"
                on-delete-prediction-success="list.removePredictionFromList(predictionId)">
            </fp-prediction>


            <button class="button--primary" 
                ng-show="list.paginationObject.previousPageIndex > -1" 
                ng-click="list.navigateToPage({'page':list.paginationObject.previousPageIndex})">
                Previous
            </button>
            <button class="button--primary" 
                ng-show="list.paginationObject.nextPageIndex > -1"
                ng-click="list.navigateToPage({'page':list.paginationObject.nextPageIndex})">
                Next
            </button>

            <div class="fp-prediction-list__pagination">
                Pages:
                <ul class="fp-prediction-list__pagination__pages">
                    <li class="fp-prediction-list__pagination__page" 
                        ng-repeat="page in list.paginationPages" 
                        ng-click="list.navigateToPage({'page': page.index })">
                        {{page.title}}
                    </li>
                </ul>
            </div>
        </div> 
    </div>

</div>




