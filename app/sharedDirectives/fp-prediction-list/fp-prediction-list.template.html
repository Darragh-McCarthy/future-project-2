

<!-- update class names -->

<div class="fp-prediction-list">

    <fp-add-new-prediction
        ng-if="list.showAddPredictionForm"
        autofocus="true"
        topic="list.currentTopic"
        on-add-new-prediction-success="list.onAddNewPredictionSuccess(newPrediction)"
        on-saving-new-prediction="list.onSavingNewPrediction()">
    </fp-add-new-prediction>

    <!--<div>Ideas for predictions</div>-->


    <div>
        <div class="fp-prediction-list__isloading-notice" 
            ng-hide="list.paginationObject">
            Loading {{list.currentTopic}} predictions...
        </div>

        <div class="fp-prediction-list__newly-added-predictions">
            <div class="fp-prediction-list__newly-added-prediction-is-saving" 
                ng-show="list.isSavingNewPrediction">
                Saving prediction...
            </div>
            <div class="fp-prediction-list__newly-added-prediction" 
                ng-repeat="prediction in list.newlyAddedPredictions">
                <!--<div class="fp-prediction-list__newly-added-prediction__successfully-added-notice">
                    Successfully added 
                    <span ng-if="list.currentTopic">
                        to {{list.currentTopic}}
                    </span>
                    on {{prediction.createdAt}}
                </div>-->
                <fp-prediction
                prediction="prediction"
                show-topic-editing-by-default="true"
                topic-to-hide="list.currentTopic" 
                onexpand="list.expandPrediction(prediction)"
                on-delete-prediction-success="list.removePredictionFromList(predictionId)">
                </fp-prediction>
            </div>
        </div>


        <div class="fp-prediction-list__no-predictions-found"
            ng-show="list.currentTopic && list.paginationObject.predictions.length === 0 && list.newlyAddedPredictions.length === 0"
            >
            We couldn't find any {{list.currentTopic}} predictions
        </div>
        <div class="fp-prediction-list__loaded" 
            ng-show="list.paginationObject.predictions.length">

            <fp-prediction 
                ng-repeat="prediction in list.paginationObject.predictions track by prediction.id"
                prediction="prediction"
                topic-to-hide="list.currentTopic" 
                onexpand="list.expandPrediction(prediction)"
                on-delete-prediction-success="list.removePredictionFromList(predictionId)">
            </fp-prediction>

            <div  class="fp-prediction-list__end-of-list-notice" 
                ng-if="list.paginationPages.length < 2 || list.paginationObject.currentPageIndex === list.paginationPages.length -1">
                <div>No more {{list.currentTopic}} predictions found.</div>
                <div class="end-of-list-notice__fp-add-new-prediction-container">
                        
                    <fp-add-new-prediction
                        ng-if="list.showAddPredictionForm && list.paginationObject.predictions.length > 2"
                        autofocus="true"
                        topic="list.currentTopic"
                        on-add-new-prediction-success="list.onAddNewPredictionSuccess(newPrediction)"
                        on-saving-new-prediction="list.onSavingNewPrediction()">
                    </fp-add-new-prediction>
                </div>
            </div>

            <div class="fp-prediction-list__pagination" 
                ng-if="list.paginationPages.length > 1">
                <button class="button--primary" 
                    ng-show="list.paginationObject.previousPageIndex > -1" 
                    ng-click="list.navigateToPage(list.paginationObject.previousPageIndex)">
                    Previous
                </button>
                <button class="button--primary" 
                    ng-show="list.paginationObject.nextPageIndex > -1"
                    ng-click="list.navigateToPage(list.paginationObject.nextPageIndex)">
                    Next
                </button>
            </div>
        </div> 
    </div>

</div>




