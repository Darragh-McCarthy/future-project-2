


<div class="prediction" ng-class="{'prediction--expanded': predictionCtrl.prediction.isExpanded}">
  <div class="prediction__header">
    <a class="prediction__title" href="#">{{::predictionCtrl.prediction.title}}</a>
    <span class="prediction__topics">
      <a class="prediction__topic" ng-repeat="topic in ::predictionCtrl.prediction.topics" ui-sref="app.search({q:topic.title})">{{::topic.title}}</a>
    </span>
    <span class="prediction__created-at">{{::predictionCtrl.prediction.createdAt}}</span>
  </div>


<!--
  <div class="prediction__add-topics">

    <label class="make-prediction__topics-label" for="make-prediction__topic-title-input" ng-hide="makePrediction.newPrediction.topicTitles.length">Add topics</label>

    <div class="make-prediction__topic-list" ng-show="makePrediction.newPrediction.topicTitles.length">
      <span class="make-prediction__new-topic" ng-repeat="topic in makePrediction.newPrediction.topicTitles">
        {{topic}} 
        <span class="delete" ng-click="makePrediction.removeTopic(topic)">Ã—</span>
      </span>
    </div>

    <div class="make-prediction__topic-error-messages">
      <ul><li ng-repeat="errorMessage in makePrediction.formErrorMessages.topicTitleErrors">{{errorMessage}}</li></ul>
      <ul><li ng-repeat="errorMessage in makePrediction.formErrorMessages.topicCountErrors">{{errorMessage}}</li></ul>
    </div>

    <input id="make-prediction__topic-title-input" type="text" ng-model="makePrediction.topic" ng-keyup="$event.keyCode == 13 && makePrediction.addTopicFromFormInput()" />
    <input class="make-prediction__add-topic-button" ng-show="makePrediction.topic.length >= makePrediction.minimumTopicCharacters" type="button" ng-click="makePrediction.addTopicFromFormInput()" value="Add Topic"/>

    <div class="make-prediction__suggested-topics">
      <span class="make-prediction__suggested-topics-title">Suggested topics:</span>
      <ul class="make-prediction__suggested-topics-list">
        <li class="make-prediction__suggested-topics-topic" ng-repeat="suggestedTopic in ['Entertainment','Science','Technology','Health','Business']" ng-click="makePrediction.addTopic(suggestedTopic)">{{suggestedTopic}}</li>
      </ul>
    </div>

  </div>
-->



  <div class="likelihood">

    <div class="likelihood__community-estimate">
      <div ng-if="predictionCtrl.prediction.isExpanded">
        <div class="likelihood__community-estimate__count">{{predictionCtrl.prediction.communityEstimatesCount}} votes</div>
        <div class="likelihood__community-estimate__graph">
          <div class="likelihood__community-estimate__graph-bar" ng-repeat="estimate in predictionCtrl.prediction.communityEstimates">
            <div ng-style="estimate.graphBarHeight"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="likelihood__user-estimate">
      <div 
        class="likelihood__user-estimate-option" 
        ng-click="predictionCtrl.toggleLikelihoodEstimate(predictionCtrl.prediction, estimate.percent)" 
        ng-repeat="estimate in predictionCtrl.prediction.communityEstimates track by $index" 
        ng-class="{'likelihood__user-estimate-option--active': estimate.percent == predictionCtrl.prediction.userEstimate}">
          {{::estimate.percent}}<span class="show-on-active">%<br/>likely</span>
      </div>
    </div>

  </div>

</div>